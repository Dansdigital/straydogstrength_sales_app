import React__default from 'react';
import { useControlsContext } from '../context.mjs';
import { getNavigationItems } from './getNavigationItems.mjs';
import { getNavigationParts } from './getNavigationParts.mjs';

const useActionDestination = () => {
    const { data, onSelectDestination } = useControlsContext();
    const { actionDestinationLabel, isActionDestinationNavigable, destination } = data;
    return React__default.useMemo(() => {
        if (!destination?.current) {
            return { items: [] };
        }
        const { current, path } = destination;
        const destinationParts = getNavigationParts({
            location: current,
            path,
        });
        return {
            label: actionDestinationLabel,
            items: getNavigationItems({
                location: current,
                destinationParts,
                onNavigate: onSelectDestination,
            }),
            isNavigable: isActionDestinationNavigable,
        };
    }, [
        actionDestinationLabel,
        isActionDestinationNavigable,
        destination,
        onSelectDestination,
    ]);
};

export { useActionDestination };
