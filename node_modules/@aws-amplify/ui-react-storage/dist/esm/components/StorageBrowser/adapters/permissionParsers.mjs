const toAccessGrantPermission = (permission) => {
    let result = '';
    permission.forEach((access) => {
        if (['read', 'get', 'list'].includes(access)) {
            if (!result.includes('READ')) {
                result = 'READ' + result;
            }
        }
        if (['write', 'delete'].includes(access)) {
            if (!result.includes('WRITE')) {
                result += 'WRITE';
            }
        }
    });
    if (result === '') {
        throw new Error('Improper Permission: Please provide correct permission.');
    }
    return result;
};
const parseAmplifyAuthPermission = (permissions) => {
    const result = [];
    permissions.forEach((access) => {
        if (access === 'read') {
            if (!result.includes('list')) {
                result.push('list');
            }
            if (!result.includes('get')) {
                result.push('get');
            }
        }
        else if (['delete', 'get', 'list', 'write'].includes(access) &&
            !result.includes(access)) {
            result.push(access);
        }
    });
    if (result.length === 0) {
        throw new Error('Improper Permission: Please provide correct permission.');
    }
    return result.sort();
};

export { parseAmplifyAuthPermission, toAccessGrantPermission };
