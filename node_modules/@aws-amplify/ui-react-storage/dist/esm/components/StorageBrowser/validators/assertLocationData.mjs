import { isObject, isString } from '@aws-amplify/ui';

function assertLocationPermissions(value, message) {
    if (!Array.isArray(value) ||
        value.some((inputPermissionEntry) => typeof inputPermissionEntry !== 'string' ||
            !['list', 'get', 'write', 'delete'].includes(inputPermissionEntry))) {
        throw new Error(message);
    }
}
function assertLocationData(value, message = 'Invalid value provided as `location`.') {
    const locationStringDataKeys = ['bucket', 'id', 'prefix', 'type'];
    if (!isObject(value) ||
        locationStringDataKeys.some((key) => !isString(value[key]))) {
        throw new Error(message);
    }
    assertLocationPermissions(value?.permissions, message);
}
function assertPrefix(value, message) {
    if (!isString(value)) {
        throw new Error(message ?? 'Invalid value provided as `prefix`.');
    }
}

export { assertLocationData, assertPrefix };
